<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Application Details | fleetidy</title>
    <meta name="description" content="fleetidy underwriting application detail view" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/tailwind.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/tailwind-config.js"></script>
    <script src="js/main.js" defer></script>
    <script src="js/record-detail.js" defer></script>
  </head>
  <body class="font-sans bg-gradient-to-b from-slate-50 to-slate-100 text-slate-900">
    <header class="sticky top-0 z-30 border-b border-slate-200 bg-white/70 backdrop-blur">
      <div class="mx-auto flex max-w-6xl items-center px-6 py-4">
        <nav class="ml-auto flex items-center gap-6 text-sm font-medium text-slate-600">
          <a class="transition hover:text-brand-blue" href="index.html">Home</a>
          <div class="relative">
            <button
              id="dashboardToggle"
              class="flex items-center gap-1 rounded-full border border-slate-300 px-4 py-2 text-xs tracking-[0.2em] text-slate-600 transition hover:border-brand-blue hover:text-brand-blue font-sans font-medium"
              type="button"
            >
              LOG-IN
              <svg class="h-3 w-3 transform transition" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div
              id="dashboardDropdown"
              class="dropdown-panel pointer-events-none opacity-0 absolute right-0 mt-2 w-48 rounded-2xl p-3 text-sm font-semibold bg-white text-slate-600 border border-slate-200 transition-all duration-200 font-sans"
              aria-hidden="true"
            >
              <a class="block rounded-xl px-3 py-2 hover:text-brand-blue font-sans" href="index.html#agency-dashboard">Agency Dashboard</a>
              <a class="block rounded-xl px-3 py-2 hover:text-brand-blue font-sans" href="underwriting-dashboard.html">UW Dashboard</a>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <main class="mx-auto max-w-6xl px-6 py-10">
      <section class="rounded-3xl border border-slate-200 bg-white/80 p-8 shadow-sm">
        <div class="flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
          <div class="flex items-start gap-4">
            <img src="assets/logo3.png" alt="fleetidy logo" class="h-16 w-16 object-contain" />
            <div>
              <p class="text-xs uppercase tracking-[0.3em] text-slate-500">Cargo & Logistics Application</p>
              <h1 id="detailInsured" class="text-2xl font-semibold text-slate-900">Insured Name</h1>
              <p class="text-sm font-semibold text-slate-600">Policy <span id="detailPolicy"></span></p>
            </div>
          </div>
          <div class="space-y-2 text-right">
            <div id="detailStatusPill" class="inline-flex items-center gap-2 rounded-full bg-slate-100 px-4 py-2 text-xs font-semibold text-slate-700">
              <span class="h-2 w-2 rounded-full bg-slate-400"></span>
              <span id="detailStatus">Status</span>
            </div>
            <p class="text-sm text-slate-600">Effective <span id="detailEffective" class="font-semibold text-slate-900"></span></p>
          </div>
        </div>

        <form class="mt-8 space-y-8">
          <div class="rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm">
            <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">Agency Information</p>
            <h3 class="text-lg font-semibold text-slate-900">Managing Agency &amp; Broker</h3>
            <div class="mt-6 space-y-4">
              <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Agency Name</label>
                  <input id="detailAgencyNameInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Agency Contact</label>
                  <input id="detailAgencyContactInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
              </div>
              <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Agency Email</label>
                  <input id="detailAgencyEmailInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Agency Phone</label>
                  <input id="detailAgencyPhoneInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
              </div>
              <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Agency Address</label>
                  <input id="detailAgencyAddressInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div class="grid grid-cols-3 gap-3">
                  <div>
                    <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">City</label>
                    <input id="detailAgencyCityInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                  </div>
                  <div>
                    <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">State</label>
                    <input id="detailAgencyStateInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                  </div>
                  <div>
                    <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Zip</label>
                    <input id="detailAgencyZipInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm">
            <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">Insured Information</p>
            <h3 class="text-lg font-semibold text-slate-900">Submission Details</h3>
            <div class="mt-6 space-y-8">
              <div class="grid grid-cols-1 gap-4 md:grid-cols-4">
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Policy #</label>
                  <input id="detailPolicyInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Effective Date</label>
                  <input id="detailEffectiveInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Status</label>
                  <select id="detailStatusInput" class="mt-1 w-full rounded-lg border border-slate-200 bg-white px-4 py-2 text-slate-900 focus:border-brand-blue focus:ring-brand-blue">
                    <option value="Bound">Bound</option>
                    <option value="Issued">Issued</option>
                    <option value="Quoted">Quoted</option>
                    <option value="Working">Working</option>
                    <option value="New">New</option>
                    <option value="Dead">Dead</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">FRED Score</label>
                  <input id="detailScoreInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
              </div>

              <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Insured Name</label>
                  <input id="detailInsuredInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Contact</label>
                  <input id="detailContactInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
              </div>

              <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Phone</label>
                  <input id="detailPhoneInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Email</label>
                  <input id="detailEmailInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
              </div>

              <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div>
                  <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Street Address</label>
                  <input id="detailAddressInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                </div>
                <div class="grid grid-cols-3 gap-3">
                  <div>
                    <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">City</label>
                    <input id="detailCityInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                  </div>
                  <div>
                    <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">State</label>
                    <input id="detailStateInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                  </div>
                  <div>
                    <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Zip</label>
                    <input id="detailZipInput" readonly class="mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-slate-900" />
                  </div>
                </div>
              </div>

              <div>
                <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Risk Snapshot</label>
                <div id="detailSnapshot" class="mt-2 flex flex-wrap gap-2 text-sm">
                </div>
              </div>

              <div>
                <label class="block text-xs font-semibold uppercase tracking-[0.15em] text-slate-500">Notes</label>
                <textarea id="detailNotes" readonly class="mt-2 w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900"></textarea>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm">
                <h3 class="mb-4 text-lg font-semibold text-slate-900">Operations &amp; Coverage</h3>
                <div class="mb-6 space-y-3">
                  <h4 class="text-sm font-semibold text-slate-700">Type of Carrier (view only)</h4>
                  <div id="detailCarrierTypes" class="flex flex-wrap gap-2 text-sm"></div>
                  <div id="detailCarrierMetrics" class="space-y-3 text-sm"></div>
                </div>
                <div class="space-y-3">
                  <h4 class="text-sm font-semibold text-slate-700">Type of Operation (view only)</h4>
                  <div id="detailOperations" class="flex flex-wrap gap-2 text-sm"></div>
                </div>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <div>
                    <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">Coverage History</p>
                    <h3 class="text-lg font-semibold text-slate-900">Expiring Program</h3>
                  </div>
                  <span id="detailNoCurrentCoverage" class="inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500"></span>
                </div>
                <div class="mt-4 grid gap-4 md:grid-cols-4">
                  <div>
                    <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Current Carrier</p>
                    <p id="detailCoverageCarrier" class="mt-1 text-sm font-medium text-slate-900">--</p>
                  </div>
                  <div>
                    <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Reporting Type</p>
                    <p id="detailCoverageMetricType" class="mt-1 text-sm font-medium text-slate-900">--</p>
                  </div>
                  <div>
                    <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Reported Amount</p>
                    <p id="detailCoverageReported" class="mt-1 text-sm font-medium text-slate-900">--</p>
                  </div>
                  <div>
                    <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Premium</p>
                    <p id="detailCoveragePremium" class="mt-1 text-sm font-medium text-slate-900">--</p>
                  </div>
                </div>
                <div class="mt-4">
                  <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Status</p>
                  <div id="detailCoverageFlags" class="mt-2 flex flex-wrap gap-2 text-xs font-semibold"></div>
                </div>
                <div class="mt-4 grid gap-4 md:grid-cols-2" id="detailPriorAuthorityBlock">
                  <div>
                    <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Prior Authority Name</p>
                    <p id="detailPriorAuthorityName" class="mt-1 text-sm font-medium text-slate-900">--</p>
                  </div>
                  <div>
                    <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">Prior Authority DOT</p>
                    <p id="detailPriorAuthorityDot" class="mt-1 text-sm font-medium text-slate-900">--</p>
                  </div>
                </div>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <div>
                    <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">Terminals &amp; Locations</p>
                    <h3 class="text-lg font-semibold text-slate-900">Property Schedule</h3>
                  </div>
                </div>
                <div id="detailTerminals" class="mt-4 space-y-4"></div>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <div>
                    <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">Loss History</p>
                    <h3 class="text-lg font-semibold text-slate-900">Five-Year Summary</h3>
                  </div>
                </div>
                <div class="mt-4 overflow-x-auto">
                  <table class="min-w-full divide-y divide-slate-200 text-sm">
                    <thead class="bg-slate-50">
                      <tr class="text-left text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">
                        <th class="px-4 py-3">Policy Period</th>
                        <th class="px-4 py-3 text-right">Amount Paid</th>
                        <th class="px-4 py-3"># Claims</th>
                        <th class="px-4 py-3">Cause(s) of Loss</th>
                        <th class="px-4 py-3">Open Claim?</th>
                      </tr>
                    </thead>
                    <tbody id="detailLossHistory" class="divide-y divide-slate-100 bg-white"></tbody>
                  </table>
                </div>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <div>
                    <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">Security Profile</p>
                    <h3 class="text-lg font-semibold text-slate-900">Theft Exposure &amp; Controls</h3>
                  </div>
                </div>
                <div class="mt-4 space-y-4">
                  <div>
                    <p class="text-sm font-semibold text-slate-800">Are vehicles ever left loaded and unattended?</p>
                    <p id="detailTheftUnattended" class="mt-1 text-sm text-slate-700">--</p>
                    <p id="detailTheftUnattendedDesc" class="text-sm text-slate-500"></p>
                  </div>
                  <div>
                    <p class="text-sm font-semibold text-slate-800">Are loaded trailers left detached from power units?</p>
                    <p id="detailTheftDetached" class="mt-1 text-sm text-slate-700">--</p>
                    <p id="detailTheftDetachedDesc" class="text-sm text-slate-500"></p>
                  </div>
                  <div class="grid gap-4 md:grid-cols-2">
                    <div>
                      <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">At Locations</p>
                      <div id="detailLocationSecurity" class="mt-2 flex flex-wrap gap-2 text-xs font-semibold"></div>
                    </div>
                    <div>
                      <p class="text-xs font-semibold uppercase tracking-[0.2em] text-slate-500">In Transit</p>
                      <div id="detailTransitSecurity" class="mt-2 flex flex-wrap gap-2 text-xs font-semibold"></div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <div>
                    <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">Commodities Mix</p>
                    <h3 class="text-lg font-semibold text-slate-900">Cargo Profile</h3>
                  </div>
                </div>
                <div id="detailCommodities" class="mt-4 flex flex-wrap gap-3 text-sm text-slate-700">
                  <span class="text-slate-500">Not provided.</span>
                </div>
              </div>
            </div>
          </div>

          <div class="flex flex-wrap items-center justify-between gap-4">
            <a href="underwriting-dashboard.html" class="rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:border-brand-blue hover:text-brand-blue">Back to Dashboard</a>
            <a href="#" class="rounded-full border border-brand-blue bg-brand-blue px-5 py-3 text-sm font-semibold text-white shadow-sm transition hover:brightness-95">Underwriting Worksheet</a>
          </div>
        </form>
      </section>
    </main>

    <footer class="border-t border-slate-200 bg-white/70">
      <div class="mx-auto flex max-w-6xl flex-col gap-3 px-6 py-8 text-xs tracking-[0.4em] text-slate-500 md:flex-row md:items-center md:justify-between">
        <span>Â© 2026 fleetidy. all rights reserved.</span>
        <div class="flex gap-4">
          <a class="transition hover:text-brand-blue" href="#privacy">Privacy</a>
          <a class="transition hover:text-brand-blue" href="#terms">Terms</a>
        </div>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const order = ["common", "contract", "forwarder", "freightbroker"];

        const carrierCheckboxes = Array.from(
          document.querySelectorAll('input[name="carrierType"]')
        );

        const rowsByCarrier = {};
        order.forEach((key) => {
          rowsByCarrier[key] = document.querySelector(
            '[data-carrier-row="' + key + '"]'
          );
        });

        function updateCarrierRevenueRows() {
          order.forEach((key) => {
            const row = rowsByCarrier[key];
            if (!row) return;

            const checkbox = carrierCheckboxes.find((cb) => cb.value === key);
            const isChecked = checkbox && checkbox.checked;

            if (isChecked) {
              row.classList.remove("hidden");
            } else {
              row.classList.add("hidden");
            }
          });
        }

        // Initialize on load
        updateCarrierRevenueRows();

        // Update on change
        carrierCheckboxes.forEach((cb) => {
          cb.addEventListener("change", updateCarrierRevenueRows);
        });
      });
    </script>
  </body>
</html>
